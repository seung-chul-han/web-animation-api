<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>애니메이션 시작 / 종료 시점 이용하기</title>
  <style>
    .box {
      width: 100px;
      height: 100px;
      background-color: dodgerblue;
    }
  </style>
</head>

<body>
  <div class="box"></div>
  <script>
    const box = document.querySelector('.box');
    const keyframes = [
      { transform: 'translateX(0)', opacity: 0 },
      // offset은 애니메이션 키프레임에서 몇초를 나타내는지를 나타낸다
      { transform: 'translateX(-50px)', opacity: 1, offset: 0.2 },
      { transform: 'translateX(200px)', opacity: 0.5 },
    ];
    const options = {
      duration: 1000,
      easing: 'linear',
      fill: 'forwards',
      // iterations: 'Infinity',
      // direction: 'alternate'
    };
    const animation = box.animate(keyframes, options);

    animation.ready.then(data => {
      console.log('ready');
    });

    animation.finished.then(data => {
      console.log('finished', data)
    });

  </script>
</body>

</html>